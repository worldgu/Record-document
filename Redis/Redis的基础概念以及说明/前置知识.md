### Redis前置知识

> 为什么要使用内存数据库
>
> 数据库整合网站:  https://db-engines.com/en/
>
> 基础选型、技术对比

一、磁盘对比

<table style="text-align: center">
    <tr>
        <td>磁盘</td>
        <td>内存</td>
    </tr>
    <tr>
    	<td>
        	1.寻址: ms <br/>
			2.带宽: G/M
        </td>
        <td>
        	1.寻址:ns<br />
            2.带宽: 字节/秒
        </td>
    </tr>
    <tr>
    	<td colspan="2">
        	IO buffer: 成本问题<br/>
            磁盘与磁道、扇区,一扇区512Byte带来一个成本变大: 索引<br/>
    		4K 操作系统，无论你读多少，都是最少4K从磁盘拿
        </td>
    </tr>
</table>

磁盘不一定固定片大小为4K, 取决于上层应用访问数据的量，4K只是支持你的使用，并且不会太浪费，也可以一些小的文件，访问的数据量大的话可以将4k扩大些，减少访问数据量，和磁头的寻址时间。

磁盘的大小取决于上层应用是I/O密集型的，还是读写小的文件，有时间情况决定。

> 例如使用文件存储数据(data.txt)  
>
> 在Linux中使用grep或者awk进行查找
>
> 使用Java通过io流，进行一行一行的读取、
>
> 但以上会随着文件的变大，读取速度变慢
>
> I/O 将成为处理瓶颈

关系型数据库:

![磁盘说明](C:\Users\86158\Desktop\后端\Redis\Redis的基础概念以及说明\磁盘说明.jpg)

数据库中的数据在查询时，B+T将索引读入内存中，索引指向对应的数据，将数据读入内存进行查询。

> 关系行数据库建表； 必须给出schema
>
> 类型: 字节宽度
>
> 存:  倾向于行级存储 (一个表十个字段，即使一行只有一个字段插入值，这行大小也是占十个字段的大小)

**数据在磁盘中和内存中的体积不一样，磁盘中的2G在内存中可能只有1G多。**

> 数据库: 表很大，性能下降
>
> 如果表有索引
>
> 增删改变慢
>
> 查询速度?
>
> 1. 1个或少量查询依然很快
> 2. 并发大的时候会受磁盘带宽影响速度



基于以上可以使用这种方案：添加缓存 memcached或者redis

两个基础设施: 

1. 冯诺依曼体系的硬件
2. 以太网，tcp/ip的网络