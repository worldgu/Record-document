### openresty    ====    Nginx+ LUA

通过给Nginx添加lua可以实现:

1. 网关API   路由转发
2. waf 软防火墙
3. 单点登录
4. 验证码
5. 整合缓存系统
6. 输出动态页面
7. 直接输出JSON
8. Redis    Kafka

----

JAVA

1. 分布式事务、ID
2. 数据一致性
3. 缓存管理
4. 服务管理监控
5. 服务高可用









通过连接中的参数进行流量转发的控制

lochtion只能做到连接参数之前的拦截

也可以拦截地狱

路由转发

定向的路由转发

web防火墙

----

Lua可以实现一个简单的LRU缓存,(缓存一致性算法)



-----

### CDN

**一秒定律**

#### DNS服务



ISP



Nginx全局内存缓存







